import{_ as F,Q as R}from"./plugin-vue_export-helper.aae97256.js";import{c as C,f as n,h as D,t as T,g as W,r as h,o as O,aj as U,a as H,B as g,ak as A,ai as i,al as _,am as z,E as a,D as t,F as y,G,an as J,ao as K,C as w,ap as X,aq as B,Q as P,ar as Y,w as $,R as S}from"./index.80c50419.js";import{h as Z,u as ee,Q as ae,i as M,j as c,k as te,l as le}from"./mediaPlayer.149bbbbf.js";import{u as re,a as oe}from"./use-dark.eb2d3d21.js";var se=C({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:u}){const o=n(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>D("div",{class:o.value},T(u.default))}}),ie=C({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:u}){const o=n(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>D("div",{class:o.value,role:"toolbar"},T(u.default))}}),Q=C({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:u}){const o=n(()=>parseInt(e.lines,10)),l=n(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),m=n(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>D("div",{style:m.value,class:l.value},T(u.default))}});const ne={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},I={xs:2,sm:4,md:8,lg:16,xl:24};var ue=C({name:"QSeparator",props:{...re,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const u=W(),o=oe(e,u.proxy.$q),l=n(()=>e.vertical===!0?"vertical":"horizontal"),m=n(()=>` q-separator--${l.value}`),k=n(()=>e.inset!==!1?`${m.value}-${ne[e.inset]}`:""),d=n(()=>`q-separator${m.value}${k.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(o.value===!0?" q-separator--dark":"")),v=n(()=>{const f={};if(e.size!==void 0&&(f[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const q=e.spaced===!0?`${I.md}px`:e.spaced in I?`${I[e.spaced]}px`:e.spaced,b=e.vertical===!0?["Left","Right"]:["Top","Bottom"];f[`margin${b[0]}`]=f[`margin${b[1]}`]=q}return f});return()=>D("hr",{class:d.value,style:v.value,"aria-orientation":l.value})}});const de={class:"media-player-with-drawer"},ce=["poster"],ve=["src","type"],pe={class:"drawer-header"},_e={class:"q-pa-md"},me=["src"],fe={__name:"MediaPlayerWithDrawer",setup(e,{expose:u}){const o=Z(),l=ee(),m=h(null),k=h(null),d=h(null),v=h(!1),f=h(l.loopMode),q=n(()=>Math.round(o.screen.width*.2)),b=()=>{v.value=!v.value},N=p=>{!p.target.closest(".custom-drawer")&&!p.target.closest(".invisible-trigger")&&v.value&&(v.value=!1)},V=p=>{l.playVideoByIndex(p)},L=()=>{l.toggleMute()},E=()=>{l.setLoopMode(f.value)},j=()=>{o.fullscreen.isActive?o.fullscreen.exit():o.fullscreen.request(k.value)};return O(()=>{m.value&&U(()=>import("./videojs.d7483f70.js"),["assets/videojs.d7483f70.js","assets/videojs.a54047b0.css","assets/index.80c50419.js","assets/index.e1fea214.css"]).then(({videojs:p})=>{const r={controls:!0,autoplay:!1,preload:"auto",fluid:!0,responsive:!0,playbackRates:[.5,1,1.5,2]};d.value=p(m.value,r),l.setPlayer(d.value),d.value.on("ended",l.onMediaEnded),d.value.on("play",()=>{try{l.isPlaying=!0}catch(s){console.error("Error on play event:",s)}}),d.value.on("pause",()=>{try{l.isPlaying=!1}catch(s){console.error("Error on pause event:",s)}})}).catch(p=>{console.error("Failed to load videojs:",p),o.notify({color:"negative",position:"top",message:"Failed to initialize video player",icon:"error"})})}),H(()=>{d.value&&(d.value.off("ended",l.onMediaEnded),d.value.dispose())}),u({toggleDrawer:b,playVideoFromPlaylist:V,toggleMute:L,toggleFullscreen:j}),(p,r)=>(g(),A("div",de,[i("div",{class:"player-wrapper",onClick:N},[i("div",{class:"video-container",ref_key:"playerContainer",ref:k},[i("video",{ref_key:"videoPlayer",ref:m,class:"video-js vjs-big-play-centered",controls:"",preload:"auto",width:"100%",height:"auto",poster:_(l).currentMedia.poster,"data-setup":"{}"},[i("source",{src:_(l).currentMedia.sources[0].src,type:_(l).currentMedia.sources[0].type},null,8,ve),r[3]||(r[3]=i("p",{class:"vjs-no-js"}," To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video ",-1))],8,ce),i("div",{class:"invisible-trigger",onClick:z(b,["stop"]),onTouchstart:z(b,["stop"]),title:"Clique para abrir o menu lateral"},null,32)],512)]),a(le,{modelValue:v.value,"onUpdate:modelValue":r[2]||(r[2]=s=>v.value=s),side:"right",width:q.value,bordered:"",behavior:"mobile",class:"custom-drawer"},{default:t(()=>[i("div",pe,[a(ie,{class:"bg-primary text-white"},{default:t(()=>[a(se,null,{default:t(()=>r[4]||(r[4]=[y(" Eletrof\xE9u Player ")])),_:1}),a(G,{icon:"close",flat:"",dense:"",onClick:r[0]||(r[0]=s=>v.value=!1)})]),_:1})]),i("div",_e,[a(ae,null,{default:t(()=>[a(Q,{header:""},{default:t(()=>r[5]||(r[5]=[y("Playlist")])),_:1}),(g(!0),A(J,null,K(_(l).playlist,(s,x)=>(g(),w(M,{key:x,clickable:"",active:_(l).currentMediaIndex===x,"active-class":"bg-primary text-white",onClick:we=>V(x)},{default:t(()=>[a(c,{avatar:""},{default:t(()=>[a(X,{rounded:""},{default:t(()=>[i("img",{src:s.thumbnail||s.poster},null,8,me)]),_:2},1024)]),_:2},1024),a(c,null,{default:t(()=>[a(Q,null,{default:t(()=>[y(B(s.label),1)]),_:2},1024),a(Q,{caption:""},{default:t(()=>[y(B(s.duration||"Dura\xE7\xE3o desconhecida"),1)]),_:2},1024)]),_:2},1024),a(c,{side:""},{default:t(()=>[_(l).currentMediaIndex===x?(g(),w(P,{key:0,name:"play_arrow",color:"primary"})):Y("",!0)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),a(ue,{class:"q-my-md"}),a(Q,{header:""},{default:t(()=>r[6]||(r[6]=[y("Configura\xE7\xF5es")])),_:1}),$((g(),w(M,{clickable:"",onClick:L},{default:t(()=>[a(c,{avatar:""},{default:t(()=>[a(P,{name:_(l).isMuted?"volume_off":"volume_up"},null,8,["name"])]),_:1}),a(c,null,{default:t(()=>[y(B(_(l).isMuted?"Ativar Som":"Silenciar"),1)]),_:1})]),_:1})),[[S]]),$((g(),w(M,{clickable:"",onClick:j},{default:t(()=>[a(c,{avatar:""},{default:t(()=>[a(P,{name:"fullscreen"})]),_:1}),a(c,null,{default:t(()=>r[7]||(r[7]=[y(" Tela Cheia ")])),_:1})]),_:1})),[[S]]),$((g(),w(M,{clickable:"",onClick:E},{default:t(()=>[a(c,{avatar:""},{default:t(()=>[a(P,{name:_(l).loopMode?"loop":"repeat"},null,8,["name"])]),_:1}),a(c,null,{default:t(()=>r[8]||(r[8]=[y("Loop")])),_:1}),a(c,{side:""},{default:t(()=>[a(te,{modelValue:f.value,"onUpdate:modelValue":[r[1]||(r[1]=s=>f.value=s),E]},null,8,["modelValue"])]),_:1})]),_:1})),[[S]])]),_:1}),r[9]||(r[9]=i("div",{class:"text-caption q-mt-xl text-center"}," Eletrofeu Player - Departamento de Hardware - Alexandre Abreu - Vers\xE3o 2.0 ",-1))])]),_:1},8,["modelValue","width"])]))}};var ye=F(fe,[["__scopeId","data-v-2ebfba6e"]]);const ge={class:"player-container"},be={__name:"DrawerPlayerPage",setup(e){return(u,o)=>(g(),w(R,{class:"drawer-player-page"},{default:t(()=>[i("div",ge,[a(ye)])]),_:1}))}};var Me=F(be,[["__scopeId","data-v-78eaa86a"]]);export{Me as default};
